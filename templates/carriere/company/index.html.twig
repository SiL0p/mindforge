{% extends 'workspace/module_base.html.twig' %}

{% block title %}Companies - MindForge{% endblock %}

{% block hero %}
<div class="hero-area section">
	<div class="bg-image bg-parallax overlay" style="background-image:url({{ asset('user/img/page-background.jpg') }})"></div>
	<div class="container">
		<div class="row">
			<div class="col-md-10 col-md-offset-1 text-center">
				<ul class="hero-area-tree">
					<li><a href="{{ path('app_home') }}">Home</a></li>
					<li>Companies</li>
				</ul>
				<h1 class="white-text">Companies</h1>
				<p class="white-text lead">Explore companies posting career opportunities</p>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block module_content %}
<div class="section">
	<div class="container">

		{% if is_granted('ROLE_COMPANY') %}
		<div style="margin-bottom: 30px;">
			<a href="{{ path('app_carriere_company_new') }}" class="main-button icon-button">
				<i class="fa fa-plus"></i> Create Company Profile
			</a>
		</div>
		{% endif %}

		{% if companies|length > 0 %}
			<div class="row">
				{% for company in companies %}
				<div class="col-md-4">
					<div class="single-blog" style="margin-bottom: 30px;">
						<div class="blog-img" style="background: linear-gradient(135deg, #6C3BAA 0%, #374050 100%); padding: 30px; min-height: 120px;">
							<h3 style="color: #fff; margin: 0 0 5px 0;">{{ company.name }}</h3>
							{% if company.industry %}
								<p style="color: rgba(255,255,255,0.85); margin: 0;">
									<i class="fa fa-industry"></i> {{ company.industry }}
								</p>
							{% endif %}
						</div>
						<div class="blog-content" style="padding: 20px;">
							{% if company.description %}
								<p class="text-muted">{{ company.description|length > 100 ? company.description|slice(0, 100) ~ '...' : company.description }}</p>
							{% else %}
								<p class="text-muted"><em>No description available</em></p>
							{% endif %}
							<a href="{{ path('app_carriere_company_show', {id: company.id}) }}" class="main-button icon-button">
								View Profile <i class="fa fa-arrow-right"></i>
							</a>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		{% else %}
			<div class="text-center" style="padding: 60px 0;">
				<i class="fa fa-building" style="font-size: 64px; color: #ccc; margin-bottom: 20px; display: block;"></i>
				<h3>No companies registered yet</h3>
				<p class="text-muted">Be the first to create a company profile.</p>
			</div>
		{% endif %}

	</div>
</div>
{% endblock %}
