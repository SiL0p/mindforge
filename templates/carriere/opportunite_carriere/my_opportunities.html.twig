{% extends 'workspace/module_base.html.twig' %}

{% block title %}My Job Postings - MindForge{% endblock %}

{% block hero %}
<div class="hero-area section">
	<div class="bg-image bg-parallax overlay" style="background-image:url({{ asset('user/img/page-background.jpg') }})"></div>
	<div class="container">
		<div class="row">
			<div class="col-md-10 col-md-offset-1 text-center">
				<ul class="hero-area-tree">
					<li><a href="{{ path('app_home') }}">Home</a></li>
					<li><a href="{{ path('app_carriere_opportunite_index') }}">Careers</a></li>
					<li>My Job Postings</li>
				</ul>
				<h1 class="white-text">My Job Postings</h1>
				<p class="white-text lead">Manage your company's career opportunities</p>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block module_content %}
<div class="section">
	<div class="container">

		<div style="margin-bottom: 30px; text-align: right;">
			<a href="{{ path('app_carriere_opportunite_new') }}" class="main-button icon-button">
				<i class="fa fa-plus-circle"></i> Post New Opportunity
			</a>
		</div>

		{% if opportunities|length > 0 %}
			<div class="row">
				{% for opportunity in opportunities %}
				<div class="col-md-4">
					<div class="course" style="margin-bottom: 30px;">
						<a href="{{ path('app_carriere_opportunite_show', {id: opportunity.id}) }}" class="course-img">
							<img src="{{ asset('user/img/course.jpg') }}" alt="">
							<i class="course-link-icon fa fa-link"></i>
						</a>
						<div class="course-body">
							<span class="course-category" style="background:
								{% if opportunity.type == 'internship' %}#6C3BAA
								{% elseif opportunity.type == 'full-time' %}#17a2b8
								{% elseif opportunity.type == 'part-time' %}#28a745
								{% else %}#ffc107{% endif %};">
								{{ opportunity.type|capitalize }}
							</span>
							<h3 class="course-title">
								<a href="{{ path('app_carriere_opportunite_show', {id: opportunity.id}) }}">
									{{ opportunity.title }}
								</a>
							</h3>
							<div class="course-details">
								<span class="course-category">
									<i class="fa fa-building"></i> {{ opportunity.company.name }}
								</span>
								{% if opportunity.location %}
									<span class="course-category">
										<i class="fa fa-map-marker"></i> {{ opportunity.location }}
									</span>
								{% endif %}
								{% if opportunity.deadline %}
									<span class="course-category">
										<i class="fa fa-calendar"></i> Deadline: {{ opportunity.deadline|date('M d, Y') }}
									</span>
								{% endif %}
								<span class="course-category">
									<i class="fa fa-{{ opportunity.isActive ? 'check-circle' : 'times-circle' }}"></i>
									{{ opportunity.isActive ? 'Active' : 'Inactive' }}
								</span>
							</div>
							<div style="margin-top: 15px;">
								<a href="{{ path('app_carriere_opportunite_show', {id: opportunity.id}) }}" class="main-button icon-button" style="padding: 8px 15px; font-size: 13px; margin-right: 5px;">
									<i class="fa fa-eye"></i> View
								</a>
								<a href="{{ path('app_carriere_opportunite_edit', {id: opportunity.id}) }}" class="main-button icon-button" style="padding: 8px 15px; font-size: 13px; background: #17a2b8;">
									<i class="fa fa-edit"></i> Edit
								</a>
							</div>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		{% else %}
			<div class="text-center" style="padding: 60px 0;">
				<i class="fa fa-briefcase" style="font-size: 64px; color: #ccc; margin-bottom: 20px; display: block;"></i>
				<h3>No job postings yet</h3>
				<p class="text-muted">You haven't created any career opportunities yet.</p>
				<a href="{{ path('app_carriere_opportunite_new') }}" class="main-button icon-button" style="margin-top: 15px;">
					<i class="fa fa-plus-circle"></i> Post Your First Opportunity
				</a>
			</div>
		{% endif %}

	</div>
</div>
{% endblock %}
