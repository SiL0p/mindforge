{% extends 'workspace/module_base.html.twig' %}

{% block title %}My Company Mentorships - MindForge{% endblock %}

{% block hero %}
<div class="hero-area section">
	<div class="bg-image bg-parallax overlay" style="background-image:url({{ asset('user/img/page-background.jpg') }})"></div>
	<div class="container">
		<div class="row">
			<div class="col-md-10 col-md-offset-1 text-center">
				<ul class="hero-area-tree">
					<li><a href="{{ path('app_home') }}">Home</a></li>
					<li>My Company Mentorships</li>
				</ul>
				<h1 class="white-text">My Company Mentorships</h1>
				<p class="white-text lead">View all mentorships associated with your companies</p>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block module_content %}
<div class="section">
	<div class="container">

		{% if mentorships|length > 0 %}
			<div class="table-responsive" style="background: #fff; padding: 20px; border-radius: 4px; box-shadow: 0 2px 10px rgba(0,0,0,0.08);">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Student</th>
							<th>Mentor</th>
							<th>Company</th>
							<th>Status</th>
							<th>Started Date</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for mentorship in mentorships %}
						<tr>
							<td>{{ mentorship.student.email }}</td>
							<td>{{ mentorship.mentor.email }}</td>
							<td>
								{% if mentorship.company %}
									{{ mentorship.company.name }}
								{% else %}
									<em class="text-muted">No company</em>
								{% endif %}
							</td>
							<td>
								{% if mentorship.status == 'pending' %}
									<span class="label label-warning">Pending</span>
								{% elseif mentorship.status == 'active' %}
									<span class="label label-success">Active</span>
								{% elseif mentorship.status == 'completed' %}
									<span class="label label-info">Completed</span>
								{% elseif mentorship.status == 'cancelled' %}
									<span class="label label-danger">Cancelled</span>
								{% endif %}
							</td>
							<td>{{ mentorship.startedAt|date('M d, Y') }}</td>
							<td>
								<a href="{{ path('app_carriere_mentorship_show', {id: mentorship.id}) }}" class="main-button icon-button" style="padding: 6px 15px; font-size: 12px;">
									<i class="fa fa-eye"></i> View
								</a>
							</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>

			<div style="margin-top: 20px; text-align: center;">
				<p class="text-muted">
					Showing mentorships from {{ companies|length }} compan{{ companies|length > 1 ? 'ies' : 'y' }}:
					{% for company in companies %}
						<strong>{{ company.name }}</strong>{% if not loop.last %}, {% endif %}
					{% endfor %}
				</p>
			</div>
		{% else %}
			<div class="text-center" style="padding: 60px 0;">
				<i class="fa fa-users" style="font-size: 64px; color: #ccc; margin-bottom: 20px; display: block;"></i>
				<h3>No mentorships found</h3>
				<p class="text-muted">There are no mentorships associated with your companies yet.</p>
			</div>
		{% endif %}

	</div>
</div>
{% endblock %}
