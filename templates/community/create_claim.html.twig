{# templates/community/create_claim.html.twig #}
{% extends "base.html.twig" %}

{% block title %}Create Support Ticket | MindForge{% endblock %}

{% block body %}
<div style="min-height: 100vh; background: linear-gradient(135deg, #f8f9fa 0%, #e8eaed 100%); padding: 3rem 1rem;">
    <div class="container" style="max-width: 600px;">
        <!-- Header -->
        <div style="text-align: center; margin-bottom: 2rem;">
            <h1 style="color: #2d3436; margin-bottom: 0.5rem;">ðŸ†˜ Create Support Ticket</h1>
            <p style="color: #636e72; font-size: 1.05rem;">Our team will assist you as quickly as possible</p>
        </div>

        <!-- Main Card -->
        <div class="card" style="border: none; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);">
            <div class="card-body" style="padding: 2rem;">
                <!-- Flash Messages -->
                {% if app.flashes %}
                    {% for type, messages in app.flashes %}
                        {% for message in messages %}
                            <div class="alert alert-{{ type == 'error' ? 'danger' : type }}" style="margin-bottom: 1.5rem;">
                                <i class="fa fa-{{ type == 'error' ? 'exclamation-circle' : 'check-circle' }}"></i>
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endfor %}
                {% endif %}

                <!-- Form -->
                <form method="POST">
                    <!-- Title Field -->
                    <div class="form-group">
                        <label for="title" style="font-weight: 600; color: #2d3436; margin-bottom: 0.5rem;">
                            <i class="fa fa-heading"></i> Title
                        </label>
                        <input 
                            type="text" 
                            name="title" 
                            id="title" 
                            class="form-control" 
                            style="border-radius: 8px; font-size: 1rem;"
                            placeholder="Brief issue description"
                            maxlength="255"
                            required
                        >
                        <small style="color: #95a5a6; margin-top: 0.25rem; display: block;">3-255 characters</small>
                    </div>

                    <!-- Description Field -->
                    <div class="form-group">
                        <label for="description" style="font-weight: 600; color: #2d3436; margin-bottom: 0.5rem;">
                            <i class="fa fa-file-text"></i> Description
                        </label>
                        <textarea 
                            name="description" 
                            id="description" 
                            class="form-control" 
                            rows="5"
                            style="border-radius: 8px; font-size: 1rem; resize: vertical; min-height: 120px;"
                            placeholder="Describe your issue in detail..."
                            minlength="10"
                            maxlength="5000"
                            required
                        ></textarea>
                        <small style="color: #95a5a6; margin-top: 0.25rem; display: block;">10-5000 characters</small>
                    </div>

                    <!-- Priority Field -->
                    <div class="form-group">
                        <label for="priority" style="font-weight: 600; color: #2d3436; margin-bottom: 0.5rem;">
                            <i class="fa fa-exclamation-triangle"></i> Priority
                        </label>
                        <select 
                            name="priority" 
                            id="priority" 
                            class="form-control" 
                            style="border-radius: 8px; font-size: 1rem;"
                        >
                            <option value="low">ðŸŸ¢ Low</option>
                            <option value="medium" selected>ðŸŸ¡ Medium</option>
                            <option value="high">ðŸŸ  High</option>
                            <option value="critical">ðŸ”´ Critical</option>
                        </select>
                    </div>

                    <!-- Actions -->
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button 
                            type="submit" 
                            class="btn btn-primary" 
                            style="flex: 1; padding: 12px 24px; font-weight: 600; border-radius: 8px; box-shadow: 0 4px 12px rgba(109, 92, 231, 0.3);"
                        >
                            <i class="fa fa-paper-plane"></i> Create Ticket
                        </button>
                        <a 
                            href="{{ path('community_index') }}" 
                            class="btn btn-secondary" 
                            style="flex: 1; padding: 12px 24px; font-weight: 600; border-radius: 8px; text-align: center;"
                        >
                            <i class="fa fa-times"></i> Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Info Section -->
        <div style="margin-top: 2rem; padding: 1.5rem; background-color: rgba(9, 132, 227, 0.08); border-radius: 8px; border-left: 4px solid #0984e3;">
            <h5 style="color: #0984e3; margin-bottom: 0.5rem; font-weight: 600;">
                <i class="fa fa-info-circle"></i> What Happens Next?
            </h5>
            <ul style="color: #636e72; margin-bottom: 0; padding-left: 1.5rem; font-size: 0.95rem;">
                <li>Your ticket will be reviewed by our support team</li>
                <li>You'll receive updates via email</li>
                <li>Critical issues are typically resolved within 24 hours</li>
            </ul>
        </div>
    </div>
</div>

                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
